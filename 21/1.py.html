<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>1.py</title>
<link rel="stylesheet" type="text/css" href="highlight.css">
</head>
<body class="hl">
<pre class="hl"><span class="hl lin">    1 </span><span class="hl kwa">import</span> functools
<span class="hl lin">    2 </span><span class="hl kwa">from</span> collections <span class="hl kwa">import</span> defaultdict  <span class="hl slc"># &lt;3</span>
<span class="hl lin">    3 </span>
<span class="hl lin">    4 </span>players <span class="hl opt">= [</span><span class="hl num">1</span><span class="hl opt">,</span> <span class="hl num">2</span><span class="hl opt">]</span>
<span class="hl lin">    5 </span>
<span class="hl lin">    6 </span>position_on_board <span class="hl opt">= {</span>
<span class="hl lin">    7 </span>    <span class="hl num">1</span><span class="hl opt">:</span> <span class="hl num">8</span><span class="hl opt">,</span>
<span class="hl lin">    8 </span>    <span class="hl num">2</span><span class="hl opt">:</span> <span class="hl num">7</span><span class="hl opt">,</span>
<span class="hl lin">    9 </span><span class="hl opt">}</span>
<span class="hl lin">   10 </span>
<span class="hl lin">   11 </span>SCORE_CAP <span class="hl opt">=</span> <span class="hl num">1000</span>
<span class="hl lin">   12 </span>DICE_THROWS_PER_ROUND <span class="hl opt">=</span> <span class="hl num">3</span>
<span class="hl lin">   13 </span>
<span class="hl lin">   14 </span>score <span class="hl opt">=</span> <span class="hl kwd">defaultdict</span><span class="hl opt">(</span><span class="hl kwb">int</span><span class="hl opt">)</span>
<span class="hl lin">   15 </span>
<span class="hl lin">   16 </span><span class="hl slc"># initially score for one player.</span>
<span class="hl lin">   17 </span><span class="hl slc"># Will grow for the other players</span>
<span class="hl lin">   18 </span>score<span class="hl opt">[</span><span class="hl num">1</span><span class="hl opt">] =</span> <span class="hl num">0</span>
<span class="hl lin">   19 </span>
<span class="hl lin">   20 </span>
<span class="hl lin">   21 </span><span class="hl kwa">def</span> <span class="hl kwd">main</span><span class="hl opt">():</span>
<span class="hl lin">   22 </span>    <span class="hl kwb">round</span> <span class="hl opt">=</span> <span class="hl num">0</span>
<span class="hl lin">   23 </span>    dice_state <span class="hl opt">=</span> <span class="hl num">0</span>
<span class="hl lin">   24 </span>
<span class="hl lin">   25 </span>    <span class="hl kwa">while</span> <span class="hl kwb">max</span><span class="hl opt">(</span>score<span class="hl opt">.</span><span class="hl kwd">values</span><span class="hl opt">()) &lt;</span> SCORE_CAP<span class="hl opt">:</span>
<span class="hl lin">   26 </span>
<span class="hl lin">   27 </span>        player <span class="hl opt">=</span> <span class="hl kwd">current_player</span><span class="hl opt">(</span><span class="hl kwb">round</span><span class="hl opt">)</span>
<span class="hl lin">   28 </span>
<span class="hl lin">   29 </span>        dice_throws <span class="hl opt">= []</span>
<span class="hl lin">   30 </span>        <span class="hl kwa">for</span> _ <span class="hl kwa">in</span> <span class="hl kwb">range</span><span class="hl opt">(</span>DICE_THROWS_PER_ROUND<span class="hl opt">):</span>
<span class="hl lin">   31 </span>            <span class="hl kwb">round</span> <span class="hl opt">+=</span> <span class="hl num">1</span>
<span class="hl lin">   32 </span>            dice_state <span class="hl opt">=</span> <span class="hl kwd">next_dice</span><span class="hl opt">(</span>dice_state<span class="hl opt">)</span>
<span class="hl lin">   33 </span>            dice_throws<span class="hl opt">.</span><span class="hl kwd">append</span><span class="hl opt">(</span>dice_state<span class="hl opt">)</span>
<span class="hl lin">   34 </span>
<span class="hl lin">   35 </span>        steps <span class="hl opt">=</span> <span class="hl kwb">sum</span><span class="hl opt">(</span>dice_throws<span class="hl opt">)</span>
<span class="hl lin">   36 </span>
<span class="hl lin">   37 </span>        position_on_board<span class="hl opt">[</span>player<span class="hl opt">] =</span> <span class="hl kwd">move</span><span class="hl opt">(</span>position_on_board<span class="hl opt">[</span>player<span class="hl opt">],</span> steps<span class="hl opt">)</span>
<span class="hl lin">   38 </span>
<span class="hl lin">   39 </span>        score<span class="hl opt">[</span>player<span class="hl opt">] +=</span> position_on_board<span class="hl opt">[</span>player<span class="hl opt">]</span>
<span class="hl lin">   40 </span>
<span class="hl lin">   41 </span>        <span class="hl slc"># print(f&quot;Player {player} rolls {dice_throws}&quot;</span>
<span class="hl lin">   42 </span>        <span class="hl slc">#       f&quot; and moves to space {position_on_board[player]}&quot;</span>
<span class="hl lin">   43 </span>        <span class="hl slc">#       f&quot; for a total score of {score[player]}&quot;)</span>
<span class="hl lin">   44 </span>
<span class="hl lin">   45 </span>    <span class="hl kwa">return</span> <span class="hl kwb">min</span><span class="hl opt">(</span>score<span class="hl opt">[</span><span class="hl num">1</span><span class="hl opt">],</span> score<span class="hl opt">[</span><span class="hl num">2</span><span class="hl opt">]) *</span> <span class="hl kwb">round</span>
<span class="hl lin">   46 </span>
<span class="hl lin">   47 </span>
<span class="hl lin">   48 </span><span class="hl kwa">def</span> <span class="hl kwd">current_player</span><span class="hl opt">(</span><span class="hl kwb">round</span><span class="hl opt">):</span>
<span class="hl lin">   49 </span>    <span class="hl kwa">return</span> <span class="hl kwb">int</span><span class="hl opt">(</span><span class="hl kwd">wrap</span><span class="hl opt">(</span><span class="hl kwb">round</span> <span class="hl opt">/</span> DICE_THROWS_PER_ROUND<span class="hl opt">,</span> <span class="hl num">1</span><span class="hl opt">,</span> <span class="hl kwb">len</span><span class="hl opt">(</span>players<span class="hl opt">)))</span>
<span class="hl lin">   50 </span>
<span class="hl lin">   51 </span>
<span class="hl lin">   52 </span><span class="hl kwb">&#64;functools.cache</span>  <span class="hl slc"># although not necessary, doesnt hurt</span>
<span class="hl lin">   53 </span><span class="hl kwa">def</span> <span class="hl kwd">move</span><span class="hl opt">(</span>start<span class="hl opt">,</span> steps<span class="hl opt">):</span>
<span class="hl lin">   54 </span>    <span class="hl kwa">return</span> <span class="hl kwd">wrap</span><span class="hl opt">(</span>start<span class="hl opt">,</span> steps<span class="hl opt">,</span> <span class="hl num">10</span><span class="hl opt">)</span>
<span class="hl lin">   55 </span>
<span class="hl lin">   56 </span>
<span class="hl lin">   57 </span><span class="hl kwa">def</span> <span class="hl kwd">next_dice</span><span class="hl opt">(</span>start<span class="hl opt">):</span>
<span class="hl lin">   58 </span>    <span class="hl kwa">return</span> <span class="hl kwd">wrap</span><span class="hl opt">(</span>start<span class="hl opt">,</span> <span class="hl num">1</span><span class="hl opt">,</span> <span class="hl num">100</span><span class="hl opt">)</span>
<span class="hl lin">   59 </span>
<span class="hl lin">   60 </span>
<span class="hl lin">   61 </span><span class="hl kwa">def</span> <span class="hl kwd">wrap</span><span class="hl opt">(</span>start<span class="hl opt">,</span> steps<span class="hl opt">,</span> where_to_wrap<span class="hl opt">):</span>
<span class="hl lin">   62 </span>    <span class="hl sng">&quot;&quot;&quot;</span>
<span class="hl lin">   63 </span><span class="hl sng">    Performs the modulo-operation different:</span>
<span class="hl lin">   64 </span><span class="hl sng">    If the remainder is 0, return the end of the allowed range.</span>
<span class="hl lin">   65 </span><span class="hl sng">    (I am open to better suggestions)</span>
<span class="hl lin">   66 </span><span class="hl sng">    &quot;&quot;&quot;</span>
<span class="hl lin">   67 </span>    value <span class="hl opt">= (</span>start <span class="hl opt">+</span> steps<span class="hl opt">) %</span> where_to_wrap
<span class="hl lin">   68 </span>    <span class="hl kwa">return</span> where_to_wrap <span class="hl kwa">if</span> value <span class="hl opt">==</span> <span class="hl num">0</span> <span class="hl kwa">else</span> value
<span class="hl lin">   69 </span>
<span class="hl lin">   70 </span>
<span class="hl lin">   71 </span><span class="hl kwa">if</span> __name__ <span class="hl opt">==</span> <span class="hl sng">&#39;__main__&#39;</span><span class="hl opt">:</span>
<span class="hl lin">   72 </span>    <span class="hl kwa">print</span><span class="hl opt">(</span><span class="hl kwd">main</span><span class="hl opt">())</span>  <span class="hl slc"># 506466</span>
</pre>
</body>
</html>
<!--HTML generated by highlight 4.1, http://www.andre-simon.de/-->
